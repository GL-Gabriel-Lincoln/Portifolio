<!DOCTYPE html>
<html>
<head>
    <title>Chamada de Função Lambda</title>
    <script>
    async function callLambdaFunction() {
        const userInput = document.getElementById('userInput').value;
        const response = await fetch('https://nqi2zih7pd7woez6ah7fu2mjfe0mdfgu.lambda-url.us-east-2.on.aws/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                "Access-Control-Allow-Origin" : "https://gl-gabriel-lincoln.github.io", // Permite apenas a origem do seu site
                "Access-Control-Allow-Credentials" : true, // Permite cookies
                "Access-Control-Allow-Headers": "Content-Type", // Permite o cabeçalho Content-Type
                "Access-Control-Allow-Methods": "OPTIONS,POST,GET"
            },
            body: JSON.stringify({text: userInput}),
        });

        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }

        const data = await response.json();
        console.log(data);
    }
    </script>
</head>
<body>
    <h1>Chamada de Função Lambda</h1>
    <form onsubmit="event.preventDefault(); callLambdaFunction();">
        <label for="userInput">Digite algo para escrever no arquivo:</label><br>
        <input type="text" id="userInput" name="userInput"><br>
        <input type="submit" value="Enviar">
    </form>
</body>
</html>
